{"version":3,"file":"protonTest.js","sourceRoot":"","sources":["../src/protonTest.ts"],"names":[],"mappings":";;AAAA,+CAAsC;AACtC,uDAAiD;AACjD,qDAA6D;AAE7D,MAAM,YAAY,GAAsB;IACtC,iBAAiB,EAAE,KAAK,EAAC,UAAU,EAAC,EAAE;QACpC,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAA;QACvD,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;YAChB,MAAM,IAAA,sBAAO,EAAC,GAAG,EAAE,UAAU,GAAG,eAAe,CAAC,CAAA;QAClD,CAAC;IACH,CAAC;CACF,CAAA;AAED,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,EAAE,EAAE,CAC/B,IAAA,gBAAG,EACD,MAAM,EACN;IACE,OAAO,EAAE,2BAAQ,CAAC,GAAG,CAAC,YAAY,EAAE;IACpC,MAAM,EAAE;QACN,SAAS,EAAE,QAAQ;KACpB;CACF,EACD,YAAY,CACb,CACF,CAAA;AAED,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC,EAAE,MAAM,EAAE,EAAE,EAAE,CAC3C,IAAA,gBAAG,EACD,MAAM,EACN;IACE,OAAO,EAAE,2BAAQ,CAAC,KAAK,CAAC,YAAY,CAAC,UAAU,CAAC;IAChD,MAAM,EAAE;QACN,SAAS,EAAE,QAAQ;KACpB;CACF,EACD,YAAY,CACb,CACF,CAAA;AAED,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,MAAM,EAAE,EAAE,EAAE,CACpD,IAAA,gBAAG,EACD,MAAM,EACN;IACE,OAAO,EAAE,2BAAQ,CAAC,OAAO,CAAC,YAAY,CAAC,MAAM,CAAC;IAC9C,MAAM,EAAE;QACN,SAAS,EAAE,QAAQ;KACpB;CACF,EACD,YAAY,CACb,CACF,CAAA;AAED,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,MAAM,EAAE,EAAE,EAAE,CACzD,IAAA,gBAAG,EACD,MAAM,EACN;IACE,OAAO,EAAE,2BAAQ,CAAC,OAAO,CAAC,YAAY,CAAC,MAAM,EAAE,uBAAI,CAAC,IAAI,CAAC;IACzD,MAAM,EAAE;QACN,SAAS,EAAE,QAAQ;KACpB;CACF,EACD,YAAY,CACb,CACF,CAAA","sourcesContent":["import { copyDir } from \"builder-util\"\nimport { Arch, Platform } from \"electron-builder\"\nimport { app, AssertPackOptions } from \"./helpers/packTester\"\n\nconst checkOptions: AssertPackOptions = {\n  projectDirCreated: async projectDir => {\n    const src = process.env.PROTON_NATIVE_TEST_NODE_MODULES\n    if (src != null) {\n      await copyDir(src, projectDir + \"/node_modules\")\n    }\n  },\n}\n\ntest.ifMac(\"mac\", ({ expect }) =>\n  app(\n    expect,\n    {\n      targets: Platform.MAC.createTarget(),\n      config: {\n        framework: \"proton\",\n      },\n    },\n    checkOptions\n  )\n)\n\ntest.ifLinuxOrDevMac(\"linux\", ({ expect }) =>\n  app(\n    expect,\n    {\n      targets: Platform.LINUX.createTarget(\"appimage\"),\n      config: {\n        framework: \"proton\",\n      },\n    },\n    checkOptions\n  )\n)\n\ntest.ifDevOrWinCi(\"win\", { retry: 2 }, ({ expect }) =>\n  app(\n    expect,\n    {\n      targets: Platform.WINDOWS.createTarget(\"nsis\"),\n      config: {\n        framework: \"proton\",\n      },\n    },\n    checkOptions\n  )\n)\n\ntest.ifDevOrWinCi(\"win ia32\", { retry: 2 }, ({ expect }) =>\n  app(\n    expect,\n    {\n      targets: Platform.WINDOWS.createTarget(\"nsis\", Arch.ia32),\n      config: {\n        framework: \"proton\",\n      },\n    },\n    checkOptions\n  )\n)\n"]}