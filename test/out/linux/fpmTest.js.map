{"version":3,"file":"fpmTest.js","sourceRoot":"","sources":["../../src/linux/fpmTest.ts"],"names":[],"mappings":";;AAAA,uDAA2C;AAC3C,sDAA2C;AAE3C,yCAAyC;AACzC,IAAI,CAAC,cAAc,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,EAAE,GAAG,EAAE,GAAG,IAAI,EAAE,EAAE,CAAC,EAAE,MAAM,EAAE,EAAE,EAAE,CACzE,IAAA,gBAAG,EAAC,MAAM,EAAE;IACV,OAAO,EAAE,2BAAQ,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,IAAI,EAAE,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;IAC9E,MAAM,EAAE;QACN,aAAa,EAAE;YACb,SAAS,EAAE,IAAI;YACf,sBAAsB,EAAE,IAAI;YAC5B,oCAAoC,EAAE,IAAI;YAC1C,6BAA6B,EAAE,IAAI;YACnC,qCAAqC,EAAE,IAAI;YAC3C,mBAAmB,EAAE,IAAI;YACzB,oCAAoC,EAAE,IAAI;YAC1C,gCAAgC,EAAE,SAAS,EAAE,uDAAuD;SACrG;KACF;CACF,CAAC,CACH,CAAA;AAED,mEAAmE;AACnE,wDAAwD;AACxD,IAAI,CAAC,cAAc,CAAC,gBAAgB,EAAE,CAAC,EAAE,MAAM,EAAE,EAAE,EAAE,CACnD,IAAA,gBAAG,EAAC,MAAM,EAAE;IACV,OAAO,EAAE,2BAAQ,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;IACvD,MAAM,EAAE;QACN,aAAa,EAAE;YACb,SAAS,EAAE,IAAI;YACf,sBAAsB,EAAE,IAAI;YAC5B,oCAAoC,EAAE,IAAI;YAC1C,6BAA6B,EAAE,IAAI;YACnC,qCAAqC,EAAE,IAAI;YAC3C,mBAAmB,EAAE,IAAI;YACzB,oCAAoC,EAAE,IAAI;YAC1C,gCAAgC,EAAE,SAAS,EAAE,uDAAuD;SACrG;KACF;CACF,CAAC,CACH,CAAA","sourcesContent":["import { Platform } from \"electron-builder\"\nimport { app } from \"../helpers/packTester\"\n\n// \"apk\" is very slow, don't test for now\ntest.ifDevOrLinuxCi(\"targets\", { timeout: 10 * 60 * 1000 }, ({ expect }) =>\n  app(expect, {\n    targets: Platform.LINUX.createTarget([\"sh\", \"freebsd\", \"pacman\", \"zip\", \"7z\"]),\n    config: {\n      electronFuses: {\n        runAsNode: true,\n        enableCookieEncryption: true,\n        enableNodeOptionsEnvironmentVariable: true,\n        enableNodeCliInspectArguments: true,\n        enableEmbeddedAsarIntegrityValidation: true,\n        onlyLoadAppFromAsar: true,\n        loadBrowserProcessSpecificV8Snapshot: true,\n        grantFileProtocolExtraPrivileges: undefined, // unsupported on current electron version in our tests\n      },\n    },\n  })\n)\n\n// https://github.com/electron-userland/electron-builder/issues/460\n// for some reasons in parallel to fmp we cannot use tar\ntest.ifDevOrLinuxCi(\"rpm and tar.gz\", ({ expect }) =>\n  app(expect, {\n    targets: Platform.LINUX.createTarget([\"rpm\", \"tar.gz\"]),\n    config: {\n      electronFuses: {\n        runAsNode: true,\n        enableCookieEncryption: true,\n        enableNodeOptionsEnvironmentVariable: true,\n        enableNodeCliInspectArguments: true,\n        enableEmbeddedAsarIntegrityValidation: true,\n        onlyLoadAppFromAsar: true,\n        loadBrowserProcessSpecificV8Snapshot: true,\n        grantFileProtocolExtraPrivileges: undefined, // unsupported on current electron version in our tests\n      },\n    },\n  })\n)\n"]}